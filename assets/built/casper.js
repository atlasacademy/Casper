!function(){function n(t,e){if(!(this instanceof n))return new n(t,e);if(!t||"TABLE"!==t.tagName)throw new Error("Element must be a table");this.init(t,e||{})}function w(t){var e;return window.CustomEvent&&"function"==typeof window.CustomEvent?e=new CustomEvent(t):(e=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,void 0),e}function g(t){return t.getAttribute("data-sort")||t.textContent||t.innerText||""}function b(t,e){return(t=t.trim().toLowerCase())===(e=e.trim().toLowerCase())?0:t<e?1:-1}function y(t,e){return[].slice.call(t).find(function(t){return t.getAttribute("data-sort-column-key")===e})}function E(r,i){return function(t,e){var n=r(t.td,e.td);return 0===n?i?e.index-t.index:t.index-e.index:n}}var x=[];n.extend=function(t,e,n){if("function"!=typeof e||"function"!=typeof n)throw new Error("Pattern and sort must be a function");x.push({name:t,pattern:e,sort:n})},n.prototype={init:function(t,e){var n,r,i,o=this;if(o.table=t,o.thead=!1,o.options=e,t.rows&&0<t.rows.length)if(t.tHead&&0<t.tHead.rows.length){for(a=0;a<t.tHead.rows.length;a++)if("thead"===t.tHead.rows[a].getAttribute("data-sort-method")){n=t.tHead.rows[a];break}n=n||t.tHead.rows[t.tHead.rows.length-1],o.thead=!0}else n=t.rows[0];if(n){function s(){o.current&&o.current!==this&&o.current.removeAttribute("aria-sort"),o.current=this,o.sortTable(this)}for(var a=0;a<n.cells.length;a++)(i=n.cells[a]).setAttribute("role","columnheader"),"none"!==i.getAttribute("data-sort-method")&&(i.tabindex=0,i.addEventListener("click",s,!1),null!==i.getAttribute("data-sort-default")&&(r=i));r&&(o.current=r,o.sortTable(r))}},sortTable:function(t,e){var n=this,r=t.getAttribute("data-sort-column-key"),i=t.cellIndex,o=b,s="",a=[],d=n.thead?0:1,c=t.getAttribute("data-sort-method"),l=t.getAttribute("aria-sort");if(n.table.dispatchEvent(w("beforeSort")),e||(l="ascending"===l||"descending"!==l&&n.options.descending?"descending":"ascending",t.setAttribute("aria-sort",l)),!(n.table.rows.length<2)){if(!c){for(;a.length<3&&d<n.table.tBodies[0].rows.length;)0<(s=(s=(h=r?y(n.table.tBodies[0].rows[d].cells,r):n.table.tBodies[0].rows[d].cells[i])?g(h):"").trim()).length&&a.push(s),d++;if(!a)return}for(d=0;d<x.length;d++)if(s=x[d],c){if(s.name===c){o=s.sort;break}}else if(a.every(s.pattern)){o=s.sort;break}for(n.col=i,d=0;d<n.table.tBodies.length;d++){var u,h,f=[],m={},p=0,v=0;if(!(n.table.tBodies[d].rows.length<2)){for(u=0;u<n.table.tBodies[d].rows.length;u++){"none"===(s=n.table.tBodies[d].rows[u]).getAttribute("data-sort-method")?m[p]=s:(h=r?y(s.cells,r):s.cells[n.col],f.push({tr:s,td:h?g(h):"",index:p})),p++}for("descending"===l?f.sort(E(o,!0)):(f.sort(E(o,!1)),f.reverse()),u=0;u<p;u++)m[u]?(s=m[u],v++):s=f[u-v].tr,n.table.tBodies[d].appendChild(s)}}n.table.dispatchEvent(w("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},"undefined"!=typeof module&&module.exports?module.exports=n:window.Tablesort=n}(),function(){function i(t){return t.replace(/[^\-?0-9.]/g,"")}Tablesort.extend("number",function(t){return t.match(/^[-+]?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||t.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||t.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)},function(t,e){return t=i(t),e=i(e),n=e,r=t,n=parseFloat(n),r=parseFloat(r),(n=isNaN(n)?0:n)-(r=isNaN(r)?0:r);var n,r})}(),function(o){"use strict";o.fn.fitVids=function(t){var e,n,i={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',e.appendChild(n.childNodes[1])),t&&o.extend(i,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&t.push(i.customSelector);var r=".fitvidsignore";i.ignore&&(r=r+", "+i.ignore);var e=o(this).find(t.join(","));(e=(e=e.not("object object")).not(r)).each(function(){var t,e,n=o(this);0<n.parents(r).length||"embed"===this.tagName.toLowerCase()&&n.parent("object").length||n.parent(".fluid-width-video-wrapper").length||(n.css("height")||n.css("width")||!isNaN(n.attr("height"))&&!isNaN(n.attr("width"))||(n.attr("height",9),n.attr("width",16)),t=("object"===this.tagName.toLowerCase()||n.attr("height")&&!isNaN(parseInt(n.attr("height"),10))?parseInt(n.attr("height"),10):n.height())/(isNaN(parseInt(n.attr("width"),10))?n.width():parseInt(n.attr("width"),10)),n.attr("name")||(e="fitvid"+o.fn.fitVids._count,n.attr("name",e),o.fn.fitVids._count++),n.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),n.removeAttr("height").removeAttr("width"))})})},o.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(){var n={narrow:function(t,e){var n="<div class='narrow'>";n+="<img class='servant' src='"+("https://assets.atlasacademy.io/GameData/JP/NarrowFigure/"+t+"/"+t+"@0.png")+"'/>",e&&(n+="<img class='ce' src='"+("https://assets.atlasacademy.io/GameData/JP/EquipFaces/f_"+e+"0.png")+"'/>"),n+="</div>",$(this).append(n)}};$(document).ready(function(){$(".aa").each(function(){var e=this,t=$(e).text().split(/\s+/).map(function(t){var e="",n=[],r=t.trim(),i=r.match(/^[A-Za-z0-9]+/);return i&&(e=i[0],r=r.substring(e.length+1)),0<r.length&&(n=r.split(",")),{name:e,args:n}});$(e).html(""),t.forEach(function(t){n[t.name]&&n[t.name].apply(e,t.args)}),$(e).css("display","flex")})})}(),function(){var n=[["naruhodo","https://cdn.discordapp.com/emojis/730472069082513468.png"]];$(document).ready(function(){$(".post-content").children().each(function(){var e,i,t=$(this);t.hasClass("aa")||(e=t.html(),i=!1,n.forEach(function(r){var t=new RegExp("(?:^|\\s)(:"+r[0]+":)(?:\\s|$)","gi");e=e.replace(t,function(t,e){i=!0;var n="<img class='emote' src='"+r[1]+"'/>";return t.replace(e,n)})}),i&&t.html(e))})})}(),function(t){t.addEventListener("DOMContentLoaded",function(){t.querySelectorAll(".kg-gallery-image img").forEach(function(t){var e=t.closest(".kg-gallery-image"),n=t.attributes.width.value/t.attributes.height.value;e.style.flex=n+" 1 0%"})})}((window,document)),$(document).ready(function(){$(".horizontal-scroll").each(function(){var t,e;$(this).children().length&&(t=$(this),e=$($(this).children()[0]),$(window).resize(function(){$(window).width()<e.width()?t.addClass("show"):t.removeClass("show")}),window.setTimeout(function(){$(window).trigger("resize")},1))})}),function(e,n){var r,i,o,s,a,d,c,l=n.querySelector("link[rel=next]");function u(){if(404===this.status)return e.removeEventListener("scroll",f),void e.removeEventListener("resize",m);this.response.querySelectorAll(".post-card").forEach(function(t){r.appendChild(n.importNode(t,!0))});var t=this.response.querySelector("link[rel=next]");t?l.href=t.href:(e.removeEventListener("scroll",f),e.removeEventListener("resize",m)),c=n.documentElement.scrollHeight,s=o=!1}function t(){var t;s||(a+d<=c-i?o=!1:(s=!0,(t=new e.XMLHttpRequest).responseType="document",t.addEventListener("load",u),t.open("GET",l.href),t.send(null)))}function h(){o||e.requestAnimationFrame(t),o=!0}function f(){a=e.scrollY,h()}function m(){d=e.innerHeight,c=n.documentElement.scrollHeight,h()}!l||(r=n.querySelector(".post-feed"))&&(s=o=!(i=300),a=e.scrollY,d=e.innerHeight,c=n.documentElement.scrollHeight,e.addEventListener("scroll",f,{passive:!0}),e.addEventListener("resize",m),h())}(window,document),function(s,a){s.Casper||(s.Casper={}),s.Casper.stickyNavTitle=function(t){var e=a.querySelector(t.navSelector),n=a.querySelector(t.titleSelector),r=s.scrollY,i=!1;function o(){n.getBoundingClientRect().top+s.scrollY+(n.offsetHeight+35)<=r?e.classList.add(t.activeClass):e.classList.remove(t.activeClass),i=!1}s.addEventListener("scroll",function(){r=s.scrollY,function(){i||requestAnimationFrame(o);i=!0}()},{passive:!0}),o()}}(window,document),$(document).ready(function(){$("table.tablesort").each(function(){new Tablesort(this)})});
//# sourceMappingURL=casper.js.map